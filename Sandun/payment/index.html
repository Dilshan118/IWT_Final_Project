<!DOCTYPE html>
<html>
<head>
    <title>Payment Form</title>
    <link rel="stylesheet" href="/styles/payment.css">
    <script>
        // JavaScript for validating Card Number, Expiry Date, and CVV
        function validateCardNumber() {
            const cardNumber = document.getElementById("CardNumber").value;
            const regex = /^[0-9]{16}$/; // 16 digits for the card number
            if (!regex.test(cardNumber)) {
                alert("Invalid Card Number. Please enter a 16-digit number.");
                return false;
            }
            return true;
        }

        function validateExpirationDate() {
            const expiryDate = document.getElementById("ExpirationDate").value;
            const regex = /^(0[1-9]|1[0-2])\/?([0-9]{2})$/; // MM/YY format
            if (!regex.test(expiryDate)) {
                alert("Invalid Expiration Date. Please use MM/YY format.");
                return false;
            }
            return true;
        }

        function validateCVV() {
            const cvv = document.getElementById("CVV").value;
            const regex = /^[0-9]{3}$/; // 3 digits for CVV
            if (!regex.test(cvv)) {
                alert("Invalid CVV. Please enter a 3-digit number.");
                return false;
            }
            return true;
        }

        function enableSubmitButton() {
            if (document.getElementById("terms").checked) {
                document.getElementById("Submit").disabled = false;
            } else {
                document.getElementById("Submit").disabled = true;
            }
        }

        function validateForm() {
            if (validateCardNumber() && validateExpirationDate() && validateCVV()) {
                alert("Payment Successful!");
                return true;
            }
            return false;
        }
    </script>
</head>
<body>
    <div class="payment-container">
        <h2>Payment Form</h2>
        <fieldset>
            <form action="process_payment.php" method="post" onsubmit="return validateForm()">
                <div class="input-group">
                    <label for="UserName">User Name:</label><br />
                    <input type="text" name="UserName" id="UserName" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="Email">Email:</label><br />
                    <input type="email" name="Email" id="Email" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="paymentamount">Payment Amount:</label><br />
                    <input type="text" name="payment" id="payment" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="VehicleID">Vehicle ID:</label><br />
                    <input type="text" name="VehicleID" id="VehicleID" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="BillingInformation">Billing Information:</label><br />
                    <textarea name="BillingInformation" id="BillingInformation" rows="4" cols="50" required></textarea><br /><br />
                </div>

                <div class="input-group">
                    <label for="CardNumber">Card Number:</label><br />
                    <input type="text" name="CardNumber" id="CardNumber" pattern="[0-9]{16}" title="Enter a valid 16-digit card number" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="ExpirationDate">Expiration Date (MM/YY):</label><br />
                    <input type="text" name="ExpirationDate" id="ExpirationDate" pattern="(0[1-9]|1[0-2])/[0-9]{2}" placeholder="MM/YY" title="Enter a valid expiration date (MM/YY)" required><br /><br />
                </div>

                <div class="input-group">
                    <label for="CVV">CVV:</label><br />
                    <input type="text" name="CVV" id="CVV" pattern="[0-9]{3}" title="Enter a valid 3-digit CVV" required><br /><br />
                </div>

                <div class="input-group">
                    <input type="checkbox" name="terms" id="terms" onclick="enableSubmitButton()">
                    <label for="terms">I accept the Terms and Conditions</label><br /><br />
                </div>

                <div class="input-group">
                    <input type="submit" id="Submit" name="Submit" class="Submit" value="Submit Payment" disabled>
                </div>
            </form>
        </fieldset>
    </div>
</body>
</html>

